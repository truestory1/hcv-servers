{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "forkProcessing": "enabled",
  "extends": [
    "config:recommended",
    "docker:pinDigests",
    "helpers:pinGitHubActionDigests"
  ],

    "customManagers": [
      {
        "customType": "regex",
        "description": "Process annotated dependencies",
        "fileMatch": [
          "(^|/).+\\.env$",
          "(^|/).+\\.sh$",
          "(^|/).+\\.ya?ml(?:\\.j2)?$"
        ],
        "matchStrings": [
          "datasource=(?<datasource>\\S+) depName=(?<depName>\\S+)( repository=(?<registryUrl>\\S+))?\\n.+(:\\s|=)(&\\S+\\s)?(?<currentValue>\\S+)"
        ],
        "datasourceTemplate": "{{#if datasource}}{{{datasource}}}{{else}}github-releases{{/if}}"
      }
    ]

}
